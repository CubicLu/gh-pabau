subscription chatListDirectMessagesSubscription {
  chat(
    distinct_on: from
    order_by: { created_at: desc, from: asc }
    where: { to: { _is_null: false } }
  ) {
    id
    message
    created_at
    updated_at
    from
  }
}
query chatListDirectMessagesQuery {
  chat(
    distinct_on: from
    order_by: { created_at: desc, from: asc }
    where: { to: { _is_null: false } }
  ) {
    id
    message
    created_at
    toUser {
      username
      full_name
    }
    room {
      id
      name
      chats_aggregate(where: { created_at: { _gt: "2030-01-01 00:00:00" } }) {
        aggregate {
          count
        }
      }
    }
    fromUser {
      username
      full_name
      image
    }
  }
}

mutation createChannel($name: String, $description: String!) {
  insert_chat_room_one(object: { name: $name, description: $description }) {
    id
  }
}
