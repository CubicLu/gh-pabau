query getPhotos($contactID: Int!) {
  photos: findManyContactAttachment(
    where: {
      Contact: { ID: { equals: $contactID } }
      attachment_type: { equals: "contact" }
      photo_type: { notIn: "consent,treatment" }
    }
  ) {
    id
    name: attachment_title # if null no-title
    shared: connect_public
    created_date: date
    linkref
    # company_id
    # user_id
    # album_id
    Contact {
      ID
      Fname
      Lname
    }
    Practitioner {
      id
      full_name
    }
    Album {
      id
      name: album_name
    }
  }
}

# {
#  "contactID": 24790901
# }

query getAlbums($contactID: Int!) {
  albums: findManyPhotoAlbum(
    where: { Contact: { ID: { equals: $contactID } } }
  ) {
    id
    name: album_name
    count: _count {
      Photos
    }
    creation_date
    modified_date
    Contact {
      ID
      Fname
      Lname
    }
  }
}

# {
#  "contactID": 25128890
# }

mutation createContactPhoto(
  $contact_id: Int!
  $album_id: Int!
  $uploaded_by: Int!
  $image_url: String!
) {
  createOneContactAttachment(
    data: {
      attachment_size: "1"
      attachment_title: "1"
      attachment_type: "1"
      booking_id: 10
      broken: 10
      broken_check: 10
      connect_public: false
      custom_contact_id: 10
      custom_id: 10
      date: 10
      imported: 10
      in_folder: 10
      linkref: "a"
      medical_form_id: 10
      medical_uniqid: "a"
      old_linkref: "a"
      original_path: "a"
      photo_type: "a"
      tags: "a"
      user_id: 10
      website_public: false
      Company: { connect: { id: 8901 } }
      Contact: { connect: { ID: 22459581 } }
    }
  ) {
    id
  }
}

mutation createContactPhoto(
  $contact_id: Int!
  $album_id: Int!
  $uploaded_by: Int!
  $image_url: String!
  $attachment_type: String!
  $date: Int!
) {
  createOneContactAttachment(
    data: {
      Company:{}
      Contact: { connect: {ID: $contact_id} }
      Album: { connect: {id: $album_id} }
      attachment_type: $attachment_type
      date: $date
      linkref: $image_url
      user_id: $uploaded_by
    }
  ) {
    id
  }
}
