query getVouchers($contactID: Int!) {
  vouchers: findManyVoucher(
    where: { Contact: { ID: { equals: $contactID } } }
    orderBy: { purchase_date: desc }
  ) {
    code
    amount
    remaining_balance
    date_from
    date_to
    description
    expiry_date
    purchase_date
    status
    Contact {
      ID
      Fname
      Lname
    }
  }
}

query getSoldVouchers($contactID: Int!, $skip: Int = 0, $take: Int = 50) {
  vouchers: findManyVoucher(
    where: { Contact: { ID: { equals: $contactID } } }
    skip: $skip
    take: $take
  ) {
    id
    code
    amount
    remaining_balance
    date_from
    expiry_date
    description
    status
    Contact {
      ID
      Lname
      Fname
    }
    Purchaser {
      ID
      Lname
      Fname
    }
    Invoice {
      id
      custom_id
    }
  }
}

query countVouchers($contactID: Int) {
  total: findManyVoucherCount(
    where: { Contact: { ID: { equals: $contactID } } }
  )
}
